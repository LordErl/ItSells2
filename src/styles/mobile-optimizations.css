/* ========================================
   IT$ELL'S MOBILE OPTIMIZATIONS
   Fase 3: Responsividade Premium
   ======================================== */

/* üì± MOBILE-FIRST FOUNDATION */
.mobile-optimized {
  /* Base styles otimizadas para mobile */
  touch-action: manipulation;
  -webkit-tap-highlight-color: transparent;
  -webkit-touch-callout: none;
  -webkit-user-select: none;
  user-select: none;
}

/* Touch-friendly interactive elements */
.touch-target {
  min-height: 44px;
  min-width: 44px;
  display: flex;
  align-items: center;
  justify-content: center;
}

/* Safe areas for notched devices */
.safe-area-top {
  padding-top: env(safe-area-inset-top);
}

.safe-area-bottom {
  padding-bottom: env(safe-area-inset-bottom);
}

.safe-area-left {
  padding-left: env(safe-area-inset-left);
}

.safe-area-right {
  padding-right: env(safe-area-inset-right);
}

/* üì± BREAKPOINT-SPECIFIC OPTIMIZATIONS */

/* Extra Small Devices (phones, 320px and up) */
@media (max-width: 374px) {
  .glass-advanced,
  .glass-card,
  .metric-card-premium {
    margin: 0.75rem;
    padding: 1rem;
    border-radius: 12px;
  }
  
  .btn-luxury {
    padding: 0.625rem 1rem;
    font-size: 0.875rem;
    min-height: 44px;
  }
  
  .text-3xl {
    font-size: 1.75rem;
  }
  
  .text-2xl {
    font-size: 1.5rem;
  }
  
  /* Reduce particle count for very small screens */
  .particles-container {
    display: none;
  }
  
  /* Simplify hover effects */
  .hover-glow:hover::before {
    display: none;
  }
}

/* Small Devices (landscape phones, 576px and up) */
@media (min-width: 375px) and (max-width: 575px) {
  .glass-advanced {
    margin: 1rem;
    padding: 1.25rem;
  }
  
  .metric-card-premium {
    padding: 1.25rem;
  }
  
  /* Grid adjustments */
  .premium-grid-mobile {
    grid-template-columns: 1fr;
    gap: 1rem;
  }
  
  /* Font scaling */
  html {
    font-size: 15px;
  }
}

/* Medium Devices (tablets, 768px and up) */
@media (min-width: 576px) and (max-width: 767px) {
  .glass-advanced {
    margin: 1.25rem;
    padding: 1.5rem;
  }
  
  .premium-grid-tablet {
    grid-template-columns: repeat(2, 1fr);
    gap: 1.25rem;
  }
  
  /* Restore some particles */
  .particles-container {
    display: block;
  }
  
  .particle:nth-child(n+7) {
    display: none; /* Limit to 6 particles */
  }
}

/* Large Devices (desktops, 992px and up) */
@media (min-width: 768px) and (max-width: 991px) {
  .premium-grid-desktop {
    grid-template-columns: repeat(3, 1fr);
    gap: 1.5rem;
  }
  
  /* Full particle system */
  .particles-container {
    display: block;
  }
  
  /* Enhanced hover effects */
  .hover-effects-enabled .metric-card-premium:hover {
    transform: translateY(-4px) scale(1.01);
  }
}

/* Extra Large Devices (large desktops, 1200px and up) */
@media (min-width: 992px) {
  .premium-grid-xl {
    grid-template-columns: repeat(4, 1fr);
    gap: 2rem;
  }
  
  /* Full effects enabled */
  .premium-spacing {
    margin: 2rem;
    padding: 2.5rem;
  }
  
  /* Enhanced animations */
  .animations-enabled .slide-in-elegant {
    animation-duration: 0.8s;
  }
}

/* üéØ ORIENTATION OPTIMIZATIONS */
@media (orientation: landscape) and (max-height: 500px) {
  /* Landscape mobile optimizations */
  .modal-premium {
    max-height: 85vh;
    margin: 1rem;
  }
  
  .glass-advanced {
    padding: 1rem 1.5rem;
  }
  
  /* Reduce vertical spacing */
  .space-y-premium > * + * {
    margin-top: 1rem;
  }
  
  /* Compact header */
  .mobile-header {
    padding: 0.75rem 1rem;
  }
}

@media (orientation: portrait) {
  /* Portrait optimizations */
  .premium-grid-portrait {
    grid-template-columns: 1fr;
  }
  
  .metric-card-premium {
    aspect-ratio: auto;
  }
}

/* üîã BATTERY & PERFORMANCE OPTIMIZATIONS */
@media (prefers-reduced-motion: reduce) {
  .particles-container,
  .gradient-text-animated,
  .hover-glow::before {
    display: none !important;
  }
  
  .metric-card-premium:hover {
    transform: none;
  }
  
  * {
    animation-duration: 0.01ms !important;
    transition-duration: 0.01ms !important;
  }
}

/* Power saving mode detection */
@media (prefers-reduced-data: reduce) {
  .particles-container {
    display: none;
  }
  
  .glass-advanced {
    backdrop-filter: blur(10px);
  }
  
  /* Reduce visual effects */
  .hover-glow::before,
  .magic-border::before {
    display: none;
  }
}

/* üé® DARK MODE MOBILE OPTIMIZATIONS */
@media (prefers-color-scheme: dark) and (max-width: 768px) {
  .glass-advanced {
    background: linear-gradient(145deg, 
      rgba(0, 0, 0, 0.95), 
      rgba(26, 26, 26, 0.9)
    );
    border-color: rgba(255, 215, 0, 0.3);
  }
  
  .luxury-input {
    background: rgba(0, 0, 0, 0.9);
    border-color: rgba(255, 215, 0, 0.4);
  }
}

/* üëÜ TOUCH INTERACTIONS */
.touch-device .btn-luxury:active {
  transform: scale(0.98);
  transition: transform 0.1s ease;
}

.touch-device .metric-card-premium:active {
  transform: scale(0.99);
  transition: transform 0.1s ease;
}

/* Ripple effect for touch */
.touch-ripple {
  position: relative;
  overflow: hidden;
}

.touch-ripple::before {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  width: 0;
  height: 0;
  border-radius: 50%;
  background: rgba(255, 215, 0, 0.3);
  transform: translate(-50%, -50%);
  transition: width 0.3s, height 0.3s;
}

.touch-ripple:active::before {
  width: 200px;
  height: 200px;
}

/* üìê ASPECT RATIOS FOR MOBILE */
.aspect-mobile-card {
  aspect-ratio: 16 / 9;
}

.aspect-mobile-square {
  aspect-ratio: 1 / 1;
}

.aspect-mobile-banner {
  aspect-ratio: 3 / 1;
}

/* üé≠ MOBILE MODAL OPTIMIZATIONS */
@media (max-width: 768px) {
  .modal-mobile {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    margin: 0;
    border-radius: 0;
    max-height: none;
    height: 100vh;
    display: flex;
    flex-direction: column;
  }
  
  .modal-mobile .modal-content {
    flex: 1;
    overflow-y: auto;
    -webkit-overflow-scrolling: touch;
  }
  
  .modal-mobile .modal-header {
    flex-shrink: 0;
    padding: 1rem;
    border-bottom: 1px solid rgba(255, 215, 0, 0.2);
  }
  
  .modal-mobile .modal-footer {
    flex-shrink: 0;
    padding: 1rem;
    border-top: 1px solid rgba(255, 215, 0, 0.2);
  }
}

/* üéØ MOBILE NAVIGATION */
.mobile-nav {
  position: fixed;
  bottom: 0;
  left: 0;
  right: 0;
  z-index: 50;
  background: linear-gradient(145deg, 
    rgba(0, 0, 0, 0.95), 
    rgba(26, 26, 26, 0.9)
  );
  backdrop-filter: blur(20px);
  border-top: 1px solid rgba(255, 215, 0, 0.2);
  padding: env(safe-area-inset-bottom);
}

.mobile-nav-item {
  display: flex;
  flex-direction: column;
  align-items: center;
  padding: 0.5rem;
  min-height: 44px;
  color: rgba(255, 215, 0, 0.7);
  transition: color 0.2s ease;
}

.mobile-nav-item.active {
  color: var(--gold-400);
}

.mobile-nav-item:active {
  background: rgba(255, 215, 0, 0.1);
  border-radius: 8px;
}

/* üîç ACCESSIBILITY MOBILE ENHANCEMENTS */
@media (max-width: 768px) {
  .sr-only-mobile {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border: 0;
  }
  
  /* Larger touch targets for accessibility */
  .a11y-touch-target {
    min-height: 48px;
    min-width: 48px;
  }
  
  /* High contrast for mobile */
  .high-contrast .glass-advanced {
    background: rgba(0, 0, 0, 0.98);
    border: 2px solid var(--gold-400);
  }
  
  .high-contrast .btn-luxury {
    border: 2px solid var(--gray-900);
    font-weight: 700;
  }
}

/* üé® MOBILE TYPOGRAPHY */
@media (max-width: 480px) {
  .mobile-heading-1 { font-size: 1.75rem; line-height: 1.2; }
  .mobile-heading-2 { font-size: 1.5rem; line-height: 1.3; }
  .mobile-heading-3 { font-size: 1.25rem; line-height: 1.4; }
  .mobile-body { font-size: 0.875rem; line-height: 1.5; }
  .mobile-small { font-size: 0.75rem; line-height: 1.4; }
}

/* üìè MOBILE SPACING SYSTEM */
.mobile-space-xs { margin: 0.25rem; }
.mobile-space-sm { margin: 0.5rem; }
.mobile-space-md { margin: 0.75rem; }
.mobile-space-lg { margin: 1rem; }
.mobile-space-xl { margin: 1.5rem; }

.mobile-padding-xs { padding: 0.25rem; }
.mobile-padding-sm { padding: 0.5rem; }
.mobile-padding-md { padding: 0.75rem; }
.mobile-padding-lg { padding: 1rem; }
.mobile-padding-xl { padding: 1.5rem; }

/* üé≠ MOBILE ANIMATIONS */
@media (max-width: 768px) {
  .mobile-fade-in {
    animation: mobileFadeIn 0.4s ease-out;
  }
  
  @keyframes mobileFadeIn {
    from {
      opacity: 0;
      transform: translateY(20px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
  
  .mobile-slide-up {
    animation: mobileSlideUp 0.3s ease-out;
  }
  
  @keyframes mobileSlideUp {
    from {
      transform: translateY(100%);
    }
    to {
      transform: translateY(0);
    }
  }
}

/* üîå PWA OPTIMIZATIONS */
@media (display-mode: standalone) {
  .pwa-optimized {
    /* PWA-specific styles */
    padding-top: env(safe-area-inset-top);
  }
  
  .pwa-header {
    position: sticky;
    top: env(safe-area-inset-top);
    z-index: 40;
  }
}

/* ‚ö° PERFORMANCE MONITORING */
@supports (contain: layout) {
  .performance-contained {
    contain: layout style paint;
  }
}

@supports (will-change: transform) {
  .performance-optimized {
    will-change: transform;
  }
  
  .performance-optimized:hover {
    will-change: auto;
  }
}